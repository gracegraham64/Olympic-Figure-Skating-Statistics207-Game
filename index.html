<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Figure Skating Empirical Rule Program</title>

<style>
body{
margin:0;
overflow:hidden;
font-family:Arial;
background:black;
}

/* rink */
#rink{
position:absolute;
width:100vw;
height:100vh;
}

/* skater */
#skater{
position:absolute;
bottom:120px;
left:50%;
transform:translateX(-50%);
width:90px;
transition:all 1s ease;
}

/* skating flow states */
.prepare{ transform:translate(-50%,0) skewX(-10deg); }
.jump{ transform:translate(-50%,-260px); }
.land{ transform:translate(-50%,0); }
.fall{
transform:translate(-50%,0) rotate(90deg);
transform-origin:bottom center;
}

/* question */
#questionBox{
position:absolute;
top:20px;
left:50%;
transform:translateX(-50%);
background:white;
padding:20px;
border-radius:12px;
display:none;
max-width:500px;
text-align:center;
}

button{
padding:10px 18px;
margin:6px;
font-size:16px;
}

#start{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
font-size:28px;
padding:20px 40px;
}

#endScreen{
position:absolute;
top:40%;
left:50%;
transform:translate(-50%,-50%);
font-size:50px;
color:white;
display:none;
}
</style>
</head>

<body>

<canvas id="rink"></canvas>

<button id="start" onclick="startGame()">Start Program</button>

<!-- single intact human silhouette -->
<img id="skater"
src="data:image/svg+xml;utf8,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 260'>
<path fill='black'
d='M50 10
C45 10 38 20 38 28
C38 38 45 42 50 42
C55 42 62 38 62 28
C62 20 55 10 50 10

M45 42
C40 70 40 95 42 120
L30 160
L38 165
L50 130
L62 165
L70 160
L58 120
C60 95 60 70 55 42 Z

M30 60 L15 90 L25 95 L38 70 Z
M70 60 L85 90 L75 95 L62 70 Z

M42 120 L40 210 L48 210 L50 150 Z
M58 120 L60 210 L52 210 L50 150 Z

M35 210 L65 210 L65 215 L35 215 Z'/>
</svg>">

<div id="questionBox">
<div id="question"></div>
<div id="answers"></div>
</div>

<div id="endScreen"></div>

<!-- audio -->
<audio id="programMusic" loop
src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5bbd4e5d6c.mp3"></audio>

<audio id="medalMusic"
src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_884fe92c7b.mp3"></audio>

<audio id="cheer"
src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_39b08f3c0f.mp3"></audio>

<audio id="sigh"
src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_2bcdba5a2f.mp3"></audio>

<script>

/* ---------- REALISTIC RINK ---------- */
const canvas=document.getElementById("rink");
const ctx=canvas.getContext("2d");

function resize(){
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
drawRink();
}
window.onresize=resize;
resize();

function drawRink(){

// crowd stands
let g=ctx.createLinearGradient(0,0,0,canvas.height);
g.addColorStop(0,"#1a1a1a");
g.addColorStop(.4,"#444");
g.addColorStop(.5,"#ffffff");
g.addColorStop(1,"#dff3ff");
ctx.fillStyle=g;
ctx.fillRect(0,0,canvas.width,canvas.height);

// crowd texture
for(let i=0;i<5000;i++){
ctx.fillStyle=`rgba(0,0,0,${Math.random()*.3})`;
ctx.fillRect(Math.random()*canvas.width,Math.random()*canvas.height*.4,2,2);
}

// rink boards
ctx.fillStyle="white";
ctx.fillRect(0,canvas.height*.45,canvas.width,15);

// ice surface
let ice=ctx.createLinearGradient(0,canvas.height*.45,0,canvas.height);
ice.addColorStop(0,"#f7fbff");
ice.addColorStop(1,"#cfe9ff");
ctx.fillStyle=ice;
ctx.fillRect(0,canvas.height*.45,canvas.width,canvas.height);

// skate marks
for(let i=0;i<300;i++){
ctx.strokeStyle="rgba(180,200,255,.2)";
ctx.beginPath();
ctx.moveTo(Math.random()*canvas.width,canvas.height*.45+Math.random()*canvas.height);
ctx.lineTo(Math.random()*canvas.width,canvas.height*.45+Math.random()*canvas.height);
ctx.stroke();
}
}

/* ---------- EMPIRICAL RULE QUESTIONS ---------- */

const questions=[
{q:"In a normal distribution, about what percent of data lies within 1 standard deviation of the mean?",
a:["50%","68%","95%","99.7%"],c:1},

{q:"About what percent of data lies within 2 standard deviations?",
a:["68%","75%","95%","99%"],c:2},

{q:"About what percent lies within 3 standard deviations?",
a:["90%","95%","97%","99.7%"],c:3},

{q:"If the mean is 100 and SD is 10, what range covers ~68% of data?",
a:["80â€“120","90â€“110","70â€“130","60â€“140"],c:1},

{q:"If mean = 50 and SD = 5, about 95% of values fall between:",
a:["45â€“55","40â€“60","35â€“65","30â€“70"],c:1},

{q:"The empirical rule applies to what type of distribution?",
a:["Uniform","Skewed","Normal (bell-shaped)","Random"],c:2},

{q:"If a value is 3 SD above the mean, it is:",
a:["Very common","Average","Unusual","Impossible"],c:2},

{q:"What percent of data is outside Â±2 SD?",
a:["5%","32%","1%","68%"],c:0},

{q:"If mean=70 and SD=8, about 99.7% falls between:",
a:["62â€“78","54â€“86","46â€“94","38â€“102"],c:2},

{q:"Empirical rule is also called:",
a:["Z rule","68-95-99.7 rule","Central rule","Mean rule"],c:1}
];

/* ---------- GAME ---------- */

const skater=document.getElementById("skater");
const qBox=document.getElementById("questionBox");
const qText=document.getElementById("question");
const answersDiv=document.getElementById("answers");

const programMusic=document.getElementById("programMusic");
const medalMusic=document.getElementById("medalMusic");
const cheer=document.getElementById("cheer");
const sigh=document.getElementById("sigh");

let index=0;
let score=0;

function startGame(){
document.getElementById("start").style.display="none";
programMusic.volume=.3;
programMusic.play();
nextJump();
}

/* jump flow */
function nextJump(){

if(index>=questions.length){endGame();return;}

// prepare edge
skater.className="prepare";

// takeoff
setTimeout(()=>{
skater.className="jump";

// pause in air â†’ question appears
setTimeout(showQuestion,900);
},600);
}

function showQuestion(){
qBox.style.display="block";

const item=questions[index];
qText.innerText=item.q;

answersDiv.innerHTML="";
item.a.forEach((choice,i)=>{
let b=document.createElement("button");
b.innerText=choice;
b.onclick=()=>answer(i===item.c);
answersDiv.appendChild(b);
});
}

function answer(correct){
qBox.style.display="none";

if(correct){
score++;
cheer.play();
skater.className="land";
}else{
sigh.play();
skater.className="fall";
}

index++;
setTimeout(nextJump,1800);
}

function endGame(){
programMusic.pause();
medalMusic.play();

const end=document.getElementById("endScreen");
end.style.display="block";

if(score===10) end.innerHTML="ðŸ¥‡ GOLD MEDAL";
else if(score===9) end.innerHTML="ðŸ¥ˆ SILVER MEDAL";
else if(score===8) end.innerHTML="ðŸ¥‰ BRONZE MEDAL";
else end.innerHTML="TRY AGAIN";
}

</script>
</body>
</html>
